:root{--bg:#0b1220;--card:#101b33;--text:#e8eefc;--muted:#a9b6d6;--border:rgba(232,238,252,.14);--accent:#7aa2ff;--danger:#ff6b6b;--ok:#36d399;}
*{box-sizing:border-box}body{margin:0;font-family:"Noto Sans KR","Malgun Gothic","Apple SD Gothic Neo",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,var(--bg),#070b14);color:var(--text);text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
a{color:var(--accent);text-decoration:none}a:hover{text-decoration:underline}
.container{max-width:1100px;margin:0 auto;padding:18px}
.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px;border-bottom:1px solid var(--border);background:rgba(16,27,51,.55);backdrop-filter:blur(8px);position:sticky;top:0;z-index:10}
.brand{font-weight:700;color:var(--text)}
.nav{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.nav a{color:var(--muted);padding:6px 10px;border-radius:8px;border:1px solid transparent}
.nav a.active{color:var(--text);border-color:var(--border);background:rgba(122,162,255,.10)}
.card{background:rgba(16,27,51,.70);border:1px solid var(--border);border-radius:14px;padding:14px}
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
.col-4{grid-column:span 4}.col-6{grid-column:span 6}.col-12{grid-column:span 12}
@media (max-width:900px){.col-4{grid-column:span 12}.col-6{grid-column:span 12}}
.h1{font-size:20px;margin:0 0 10px 0;word-break:keep-all;overflow-wrap:normal;white-space:nowrap}.muted{color:var(--muted)}
.table{width:100%;border-collapse:collapse;overflow:hidden;border-radius:12px;border:1px solid var(--border);word-break:keep-all;overflow-wrap:normal}
.table th,.table td{padding:10px 10px;border-bottom:1px solid var(--border);text-align:left;vertical-align:top}
.table th{color:var(--muted);font-weight:600;background:rgba(232,238,252,.04);white-space:nowrap}
.table.nowrap th,.table.nowrap td{white-space:nowrap;word-break:keep-all;overflow-wrap:normal}
.table-scroll{overflow-x:auto}
.table-scroll .table{min-width:720px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;color:var(--muted);white-space:nowrap}
.badge.accent{border-color:rgba(122,162,255,.35);color:#dbe6ff;background:rgba(122,162,255,.14)}
.badge.danger{border-color:rgba(255,107,107,.35);color:#ffd0d0;background:rgba(255,107,107,.10)}
.badge.ok{border-color:rgba(54,211,153,.35);color:#c8ffea;background:rgba(54,211,153,.10)}
.form-row{display:flex;gap:10px;flex-wrap:wrap;align-items:end}
.field{display:flex;flex-direction:column;gap:6px;min-width:180px}
.label{font-size:12px;color:var(--muted);word-break:keep-all;overflow-wrap:normal;white-space:nowrap}
.input,select,textarea{width:100%;padding:9px 10px;border-radius:10px;border:1px solid var(--border);background:rgba(7,11,20,.45);color:var(--text)}
textarea{min-height:90px}
.btn{display:inline-block;padding:9px 12px;border-radius:10px;border:1px solid var(--border);background:rgba(122,162,255,.12);color:var(--text);cursor:pointer;font:inherit;white-space:nowrap}
.btn:hover{filter:brightness(1.08)}
.btn.secondary{background:rgba(232,238,252,.06)}
.btn.danger{background:rgba(255,107,107,.12)}
.flash{padding:10px 12px;border-radius:12px;border:1px solid var(--border);margin:0 0 12px 0}
.flash.success{border-color:rgba(54,211,153,.35);background:rgba(54,211,153,.08)}
.flash.error{border-color:rgba(255,107,107,.35);background:rgba(255,107,107,.08)}
.kpi{display:flex;gap:10px;align-items:center;justify-content:space-between}
.kpi .value{font-size:20px;font-weight:700}
.small{font-size:12px;color:var(--muted)}

/* Notice board (list + preview) */
.notice-board{padding:16px}
.notice-top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
.notice-top-actions{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.notice-toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:14px}
.notice-toolbar-left{flex:1;min-width:220px}
.notice-toolbar-right{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.notice-split{display:grid;grid-template-columns:420px 1fr;gap:14px;margin-top:14px}
.notice-list{min-width:0}
.notice-detail{min-width:0;border:1px solid var(--border);border-radius:12px;background:rgba(7,11,20,.20)}
.notice-list-meta{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.notice-list-meta-left{display:flex;align-items:center;gap:8px;min-width:0}
.notice-list-meta-right{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.notice-filter-buttons{display:flex;align-items:center;gap:6px}
.notice-list-section-title{margin:12px 0 8px 0;font-size:12px;color:var(--muted);font-weight:800;letter-spacing:.02em}
.notice-rows{display:flex;flex-direction:column;gap:8px}
.notice-row{display:block;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:rgba(232,238,252,.03);text-decoration:none;color:inherit}
.notice-row:hover{text-decoration:none;background:rgba(232,238,252,.05)}
.notice-row.active{border-color:rgba(122,162,255,.45);background:rgba(122,162,255,.10)}
.notice-row-title{display:flex;align-items:center;gap:8px;min-width:0}
.notice-title-text{font-weight:800;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.notice-row-meta{display:flex;align-items:center;justify-content:space-between;margin-top:6px;font-size:12px}
.notice-empty{padding:16px;border-radius:12px;border:1px dashed var(--border);background:rgba(232,238,252,.02)}
.notice-pager{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:12px}
.notice-pager-pages{display:flex;gap:6px;flex-wrap:wrap;align-items:center;justify-content:center}
.notice-pager [aria-disabled="true"]{opacity:.5;pointer-events:none}
.notice-detail-empty{padding:18px}
.notice-detail-head{display:flex;gap:12px;align-items:flex-start;justify-content:space-between;padding:16px 16px 12px 16px;border-bottom:1px solid var(--border)}
.notice-detail-title{font-size:18px;font-weight:900;line-height:1.35;word-break:keep-all;overflow-wrap:anywhere}
.notice-detail-meta{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:8px;font-size:12px}
.notice-detail-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.notice-detail-actions form{margin:0}
.notice-detail-body{padding:16px;font-size:15px;line-height:1.65;white-space:normal;word-break:keep-all;overflow-wrap:anywhere}

@media (max-width:980px){
	.notice-split{grid-template-columns:1fr}
	.notice-detail{min-height:220px}
}

/* KPI cards (dashboard) */
.kpi-link{display:block;text-decoration:none;color:inherit}
.kpi-link:hover{text-decoration:none;filter:brightness(1.05)}
.kpi-card{border-radius:14px;padding:18px;border:1px solid var(--border);background:rgba(232,238,252,.04);text-align:center}
.kpi-card .kpi-title{font-size:clamp(12px, 1.6vw, 13px);font-weight:800;letter-spacing:.02em;color:rgba(255,255,255,.92);white-space:nowrap}
.kpi-card .kpi-main{font-size:34px;font-weight:900;line-height:1.1;margin-top:10px;white-space:nowrap;color:#fff;display:inline-flex;flex-wrap:nowrap;align-items:baseline;justify-content:center}
.kpi-card .kpi-main.tight{font-size:clamp(18px, 3vw, 28px)}
.kpi-card .kpi-unit{font-size:14px;font-weight:800;opacity:.95;margin-left:4px;white-space:nowrap}
.kpi-card .kpi-sep{margin:0 6px;opacity:.9;white-space:nowrap}
.kpi-card .kpi-sub{margin-top:8px;font-size:13px;color:rgba(255,255,255,.92);white-space:nowrap}
.kpi-card.accent{background:rgba(122,162,255,.16)}
.kpi-card.ok{background:rgba(54,211,153,.14)}
.kpi-card.danger{background:rgba(255,107,107,.12)}
/* pending(미처리): 경고톤 대신 accent 계열로 자연스럽게 */
.kpi-card.warn{background:rgba(122,162,255,.12)}

/* Auth (login/register) */
.auth-flash{max-width:480px;margin:18px auto 0 auto}
.auth-wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:54px 18px 24px;gap:18px}
.auth-brand-outside{font-weight:800;font-size:24px;line-height:1.15;word-break:keep-all;overflow-wrap:normal;text-align:center}
.auth-card{width:100%;max-width:420px;padding:24px}
.auth-form{display:flex;flex-direction:column;gap:12px}
.auth-card .field{min-width:0}
.auth-right-link{display:flex;justify-content:flex-end;margin-top:6px}

/* Layout with sidebar (logged-in) */
.layout{display:flex;gap:14px;max-width:1300px;margin:0 auto;padding:18px}
.sidebar{width:280px;flex:0 0 280px;border-right:1px solid var(--border);padding-right:14px}
.main{flex:1;min-width:0}
.layout .container{max-width:1100px;margin:0 auto;padding:0}

.sidebar-card{background:rgba(16,27,51,.70);border:1px solid var(--border);border-radius:14px;padding:14px;margin-bottom:14px}
.sidebar-user-name{font-size:18px;font-weight:800;margin-bottom:6px}
.sidebar-user-meta{display:flex;flex-direction:column;gap:6px}
.sidebar-user-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}

.sidebar-title{font-size:12px;color:var(--muted);font-weight:700;letter-spacing:.02em;margin:10px 0 8px 0}
.sidebar-link{display:block;padding:8px 10px;border-radius:10px;color:var(--text);border:1px solid transparent}
.sidebar-link:hover{background:rgba(232,238,252,.06);text-decoration:none}
.sidebar-link.active{border-color:var(--border);background:rgba(122,162,255,.10)}
.sidebar-sep{height:1px;background:var(--border);margin:10px 0}

/* Sidebar tree (collapsible) */
.sidebar-tree{padding:10px}
.tree-group{border-top:1px solid var(--border);padding-top:10px;margin-top:10px}
.tree-group:first-child{border-top:0;padding-top:0;margin-top:0}
.tree-summary{list-style:none;cursor:pointer;user-select:none;color:var(--muted);font-weight:700;font-size:12px;display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:10px}
.tree-summary:hover{background:rgba(232,238,252,.06)}
.tree-summary::-webkit-details-marker{display:none}
.tree-summary::before{content:'';width:10px;height:10px;border:1px solid var(--border);border-radius:999px;display:inline-block;flex:0 0 10px;background:rgba(232,238,252,.04)}
.tree-summary::after{content:'▸';margin-left:auto;color:var(--muted);font-size:12px;transform:translateY(-1px)}
.tree-group[open]>.tree-summary::after{content:'▾'}

.tree-items{position:relative;margin-top:6px;padding-left:18px}
.tree-items::before{content:'';position:absolute;left:8px;top:0;bottom:0;width:1px;background:var(--border)}
.tree-link{display:block;position:relative;padding:8px 10px 8px 14px;border-radius:10px;color:var(--text);border:1px solid transparent}
.tree-link::before{content:'';position:absolute;left:8px;top:50%;width:10px;height:1px;background:var(--border)}
.tree-link:hover{background:rgba(232,238,252,.06);text-decoration:none}
.tree-link.active{border-color:var(--border);background:rgba(122,162,255,.10)}

/* Inline details (table expandable rows) */
.inline-details{display:block}
.inline-details>summary{list-style:none;cursor:pointer;user-select:none;display:flex;align-items:center;gap:8px}
.inline-details>summary::-webkit-details-marker{display:none}
.inline-details>summary::after{content:'▸';margin-left:auto;color:var(--muted);font-size:12px;transform:translateY(-1px)}
.inline-details[open]>summary::after{content:'▾'}
.inline-details-body{margin-top:6px}

/* Compact table inside expanded area */
.table.table-compact th,.table.table-compact td{padding:8px 10px}

/* Admin items: grouped row toggle */
.table-toggle{border:0;background:transparent;color:var(--text);padding:0;margin:0;cursor:pointer;display:flex;align-items:center;gap:8px;width:100%;text-align:left}
.table-toggle:hover{text-decoration:underline}
.table-toggle-label{display:inline-block}
.table-toggle-chevron{margin-left:auto;color:var(--muted);font-size:12px;transform:translateY(-1px)}
.table-toggle-chevron::after{content:'▸'}
.table-toggle[aria-expanded="true"] .table-toggle-chevron::after{content:'▾'}

/* Sub rows for duplicated items */
.dup-row td{background:rgba(232,238,252,.02)}
.dup-row .dup-sku{position:relative;padding-left:26px;color:var(--muted)}
.dup-row .dup-sku::before{content:'↳';position:absolute;left:10px;color:var(--muted)}

/* Sub rows for supplier users */
.child-row td{background:rgba(232,238,252,.02)}
.child-row .child-first{position:relative;padding-left:26px;color:var(--muted)}
.child-row .child-first::before{content:'↳';position:absolute;left:10px;color:var(--muted)}

@media (max-width:980px){
	.layout{display:block;padding:14px}
	.sidebar{width:auto;border-right:0;padding-right:0}
	.layout .container{padding:0}
}

/* Inquiry (1:1) board (list + chat) */
.inquiry-board{padding:16px}
.inquiry-top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
.inquiry-split{display:grid;grid-template-columns:420px 1fr;gap:14px;margin-top:14px}
.inquiry-list{min-width:0}
.inquiry-list-meta{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.inquiry-rows{display:flex;flex-direction:column;gap:8px}
.inquiry-row{display:block;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:rgba(232,238,252,.03);text-decoration:none;color:inherit}
.inquiry-row:hover{text-decoration:none;background:rgba(232,238,252,.05)}
.inquiry-row.active{border-color:rgba(122,162,255,.45);background:rgba(122,162,255,.10)}
.inquiry-row-top{display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
.inquiry-title{font-weight:900;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.inquiry-last{font-size:12px;color:var(--muted);white-space:nowrap}
.inquiry-row-sub{margin-top:6px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.inquiry-empty{padding:16px;border-radius:12px;border:1px dashed var(--border);background:rgba(232,238,252,.02)}

.inquiry-chat{min-width:0;border:1px solid var(--border);border-radius:12px;background:rgba(7,11,20,.20);display:flex;flex-direction:column;min-height:520px}
.inquiry-chat-head{padding:14px 14px 12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
.inquiry-chat-peer{font-weight:900;word-break:keep-all;overflow-wrap:anywhere}
.inquiry-chat-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
.inquiry-chat-actions form{margin:0}
.inquiry-chat-body{padding:14px;overflow:auto;flex:1;display:flex;flex-direction:column;gap:10px}
.inquiry-chat-empty{padding:18px}

.chat-line{display:flex}
.chat-line.mine{justify-content:flex-end}
.chat-line.theirs{justify-content:flex-start}
.chat-bubble{max-width:min(640px, 92%);border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:rgba(232,238,252,.04)}
.chat-line.mine .chat-bubble{background:rgba(122,162,255,.12);border-color:rgba(122,162,255,.35)}
.chat-text{font-size:14px;line-height:1.6;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}
.chat-time{margin-top:6px;font-size:12px;color:var(--muted);text-align:right;white-space:nowrap}

.inquiry-chat-input{display:flex;gap:10px;align-items:flex-end;padding:12px 14px;border-top:1px solid var(--border)}
.inquiry-chat-input textarea{min-height:44px;max-height:120px;resize:vertical}

@media (max-width:980px){
  .inquiry-split{grid-template-columns:1fr}
  .inquiry-chat{min-height:420px}
}
